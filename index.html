<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta id="meta-description" name="description" content="Konstantin Simonov - cinematographer.">
    <meta name="theme-color" content="#0a0a0a">

    <title>Konstantin Simonov | Cinematographer</title>

    <!-- 
    =====================================================
    FONTS
    Using Inter (clean, modern sans-serif) and Montserrat (modern sans-serif)
    Change fonts here if you prefer different typography
    =====================================================
  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Montserrat:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- 
    =====================================================
    BACKGROUND MEDIA CONTAINER
    Supports both VIDEO and IMAGE backgrounds
    
    TO USE VIDEO BACKGROUND:
    - Uncomment the <video> element below
    - Set src to your video file (MP4 recommended)
    - The video will autoplay, loop, and be muted
    
    TO USE IMAGE BACKGROUND:
    - Comment out the <video> element
    - Uncomment the <div class="bg-image"> element
    - Set the background-image URL in styles.css (.bg-image class)
    
    MOBILE OPTIMIZATION:
    - Video is hidden on mobile by default (CSS media query)
    - Image fallback is shown instead for better performance
    =====================================================
  -->
    <div class="background-container">

        <!-- OPTION 1: VIDEO BACKGROUND (uncomment to use) -->
        <video autoplay loop muted playsinline webkit-playsinline poster="assets/poster.jpg" class="bg-video">
            <source src="assets/showreel.mp4" type="video/mp4">
        </video>

        <!-- OPTION 2: IMAGE BACKGROUND (currently active) -->
        <!-- To change the image, edit the background-image URL in styles.css (.bg-image class) -->
        <div class="bg-image"></div>

        <!-- Dark overlay for text readability (adjust opacity in styles.css) -->
        <div class="bg-overlay"></div>
    </div>

    <!-- 
    =====================================================
    MAIN CONTENT
    Edit text content here:
    - h1: Main headline ("Coming Soon")
    - .name: DOP name ("Simonov DOP")
    - .subtitle: Role description ("Director of Photography")
    =====================================================
  -->
    <!-- Top Header with Contact Info -->
    <header class="top-header">
        <div class="contacts">
            <a href="tel:+37125280698" class="contact-link">+371 2528 0698</a>
            <span class="contact-divider">|</span>
            <a href="mailto:cinecat88@gmail.com" class="contact-link">E-MAIL</a>
            <a href="https://www.imdb.com/name/nm10457842/?ref_=nv_sr_srsg_2_tt_1_nm_7_in_0_q_Konstantin%2520Simonovs"
                target="_blank" rel="noopener" class="imdb-button" aria-label="Open IMDb profile">
                IMDb
            </a>
            <label for="language-select" class="visually-hidden">Language</label>
            <select id="language-select" class="lang-select" aria-label="Select language">
                <option value="en">EN</option>
                <option value="lv">LV</option>
                <option value="ru">RU</option>
                <option value="el">EL</option>
                <option value="de">DE</option>
                <option value="fr">FR</option>
                <option value="ja">JA</option>
                <option value="zh">ZH</option>
                <option value="ar">AR</option>
            </select>
        </div>
    </header>

    <main class="content">
        <div class="content-wrapper">

            <!-- Main Headline -->
            <h1 class="headline" data-i18n="hero_name">KONSTANTIN SIMONOV</h1>

            <!-- Subtitle / Role -->
            <p class="subtitle" data-i18n="role">cinematographer</p>

        </div>
    </main>

    <!-- Projects Section -->
    <section class="projects-section">
        <h2 class="projects-title" data-i18n="selected_works">Selected Works</h2>
        <div class="projects-track">

            <!-- AUTO-IMDB-START -->
            <a href="https://www.imdb.com/title/tt29414906/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt29414906.jpg" alt="Tea Time poster" loading="lazy">
                <span class="project-year">2023</span>
                <h3 class="project-name">Tea Time</h3>
                <p class="project-desc" data-type-key="tv_series" data-type-fallback="TV Series">TV Series</p>
            </a>
            <a href="https://www.imdb.com/title/tt34720347/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt34720347.jpg" alt="The Barber poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">The Barber</h3>
                <p class="project-desc" data-type-key="tv_mini_series" data-type-fallback="TV Mini Series">TV Mini Series</p>
            </a>
            <a href="https://www.imdb.com/title/tt33055019/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt33055019.jpg" alt="Entropy poster" loading="lazy">
                <span class="project-year">----</span>
                <h3 class="project-name">Entropy</h3>
                <p class="project-desc" data-type-key="feature_film" data-type-fallback="Feature Film">Feature Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt36473776/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt36473776.jpg" alt="A Matter of Taste poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">A Matter of Taste</h3>
                <p class="project-desc" data-type-key="tv_series" data-type-fallback="TV Series">TV Series</p>
            </a>
            <a href="https://www.imdb.com/title/tt36671437/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt36671437.jpg" alt="DOM (Home) poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">DOM (Home)</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt22134246/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt22134246.jpg" alt="Fati poster" loading="lazy">
                <span class="project-year">2023</span>
                <h3 class="project-name">Fati</h3>
                <p class="project-desc" data-type-key="tv_mini_series" data-type-fallback="TV Mini Series">TV Mini Series</p>
            </a>
            <a href="https://www.imdb.com/title/tt39393813/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt39393813.jpg" alt="Maxim Busel: Aust un Riet poster" loading="lazy">
                <span class="project-year">2026</span>
                <h3 class="project-name">Maxim Busel: Aust un Riet</h3>
                <p class="project-desc" data-type-key="music_video" data-type-fallback="Music Video">Music Video</p>
            </a>
            <a href="https://www.imdb.com/title/tt38151982/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt38151982.jpg" alt="Elvira poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">Elvira</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt36690747/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt36690747.jpg" alt="Lostland poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">Lostland</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt36130910/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt36130910.jpg" alt="T-Fest: Music saved me poster" loading="lazy">
                <span class="project-year">2025</span>
                <h3 class="project-name">T-Fest: Music saved me</h3>
                <p class="project-desc" data-type-key="music_video" data-type-fallback="Music Video">Music Video</p>
            </a>
            <a href="https://www.imdb.com/title/tt32508583/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt32508583.jpg" alt="The Birds Didn't Fly poster" loading="lazy">
                <span class="project-year">2024</span>
                <h3 class="project-name">The Birds Didn't Fly</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt27658646/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt27658646.jpg" alt="Katastrofa poster" loading="lazy">
                <span class="project-year">2023</span>
                <h3 class="project-name">Katastrofa</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
            <a href="https://www.imdb.com/title/tt26771448/" target="_blank" rel="noopener" class="project-card">
                <img class="project-poster" src="assets/posters/tt26771448.jpg" alt="UGA: Biedeigais B poster" loading="lazy">
                <span class="project-year">2023</span>
                <h3 class="project-name">UGA: Biedeigais B</h3>
                <p class="project-desc" data-type-key="short_film" data-type-fallback="Short Film">Short Film</p>
            </a>
<!-- AUTO-IMDB-END -->

        </div>
    </section>

    <section class="gallery-section">
        <h2 class="gallery-title" data-i18n="gallery_title">Gallery</h2>
        <div class="gallery-grid" id="gallery-grid"></div>
        <p class="gallery-empty" id="gallery-empty" data-i18n="gallery_empty">Add photos to assets/gallery/gallery.json</p>
    </section>

    <div class="lightbox" id="lightbox" aria-hidden="true">
        <button class="lightbox-close" type="button" aria-label="Close image">x</button>
        <button class="lightbox-nav lightbox-prev" type="button" aria-label="Previous image">&#10094;</button>
        <img class="lightbox-image" src="" alt="Expanded gallery image">
        <button class="lightbox-nav lightbox-next" type="button" aria-label="Next image">&#10095;</button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <span class="footer-line"></span>
        <span class="scroll-hint" aria-hidden="true"></span>
    </footer>
    <div class="scroll-indicator" id="scroll-indicator" aria-hidden="true">
        <span class="scroll-indicator-text" data-i18n="scroll_hint">scroll</span>
        <span class="scroll-indicator-arrow"></span>
    </div>

    <script>
        (function () {
            const i18n = {
                en: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'Konstantin Simonov | Cinematographer',
                    meta_description: 'Konstantin Simonov - cinematographer.',
                    role: 'cinematographer',
                    selected_works: 'Selected Works',
                    gallery_title: 'Gallery',
                    scroll_hint: 'scroll',
                    gallery_empty: 'Add photos to assets/gallery/gallery.json',
                    no_credits: 'No cinematographer credits found on IMDb.',
                    type: {
                        title: 'Title',
                        feature_film: 'Feature Film',
                        short_film: 'Short Film',
                        tv_series: 'TV Series',
                        tv_mini_series: 'TV Mini Series',
                        tv_special: 'TV Special',
                        music_video: 'Music Video',
                        video_game: 'Video Game',
                    },
                },
                lv: {
                    hero_name: 'KONSTANTĪNS SIMONOVS',
                    page_title: 'Konstantīns Simonovs | Operators',
                    meta_description: 'Konstantīns Simonovs - operators.',
                    role: 'operators',
                    selected_works: 'Darbi',
                    gallery_title: 'Galerija',
                    scroll_hint: 'ritināt',
                    gallery_empty: 'Pievieno foto failus assets/gallery/gallery.json',
                    no_credits: 'IMDb nav atrasti cinematographer ieraksti.',
                    type: {
                        title: 'Nosaukums',
                        feature_film: 'Pilnmetrāžas filma',
                        short_film: 'Īsfilma',
                        tv_series: 'TV seriāls',
                        tv_mini_series: 'TV mini seriāls',
                        tv_special: 'TV speciālizlaidums',
                        music_video: 'Mūzikas video',
                        video_game: 'Videospēle',
                    },
                },
                ru: {
                    hero_name: 'КОНСТАНТИН СИМОНОВ',
                    page_title: 'Константин Симонов | Кинооператор',
                    meta_description: 'Константин Симонов - кинооператор.',
                    role: 'кинооператор',
                    selected_works: 'Избранные работы',
                    gallery_title: 'Галерея',
                    scroll_hint: 'скролл',
                    gallery_empty: 'Добавьте фото в assets/gallery/gallery.json',
                    no_credits: 'На IMDb не найдено работ в категории cinematographer.',
                    type: {
                        title: 'Проект',
                        feature_film: 'Полнометражный фильм',
                        short_film: 'Короткометражный фильм',
                        tv_series: 'Сериал',
                        tv_mini_series: 'Мини-сериал',
                        tv_special: 'ТВ-спецвыпуск',
                        music_video: 'Музыкальный клип',
                        video_game: 'Видеоигра',
                    },
                },
                el: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'Konstantin Simonov | Διευθυντής φωτογραφίας',
                    meta_description: 'Konstantin Simonov - διευθυντής φωτογραφίας.',
                    role: 'διευθυντής φωτογραφίας',
                    selected_works: 'Επιλεγμένα έργα',
                    gallery_title: 'Γκαλερί',
                    scroll_hint: 'κύλιση',
                    gallery_empty: 'Προσθέστε φωτογραφίες στο assets/gallery/gallery.json',
                    no_credits: 'Δεν βρέθηκαν εγγραφές cinematographer στο IMDb.',
                    type: {
                        title: 'Τίτλος',
                        feature_film: 'Ταινία μεγάλου μήκους',
                        short_film: 'Ταινία μικρού μήκους',
                        tv_series: 'Τηλεοπτική σειρά',
                        tv_mini_series: 'Τηλεοπτική μίνι σειρά',
                        tv_special: 'Τηλεοπτικό αφιέρωμα',
                        music_video: 'Μουσικό βίντεο',
                        video_game: 'Βιντεοπαιχνίδι',
                    },
                },
                de: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'Konstantin Simonov | Kameramann',
                    meta_description: 'Konstantin Simonov - Kameramann.',
                    role: 'kameramann',
                    selected_works: 'Ausgewählte Arbeiten',
                    gallery_title: 'Galerie',
                    scroll_hint: 'scrollen',
                    gallery_empty: 'Füge Fotos in assets/gallery/gallery.json hinzu',
                    no_credits: 'Keine Cinematographer-Credits auf IMDb gefunden.',
                    type: {
                        title: 'Titel',
                        feature_film: 'Spielfilm',
                        short_film: 'Kurzfilm',
                        tv_series: 'Fernsehserie',
                        tv_mini_series: 'Mini-Serie',
                        tv_special: 'TV-Special',
                        music_video: 'Musikvideo',
                        video_game: 'Videospiel',
                    },
                },
                fr: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'Konstantin Simonov | Directeur de la photographie',
                    meta_description: 'Konstantin Simonov - directeur de la photographie.',
                    role: 'directeur de la photographie',
                    selected_works: 'Travaux sélectionnés',
                    gallery_title: 'Galerie',
                    scroll_hint: 'défiler',
                    gallery_empty: 'Ajoutez des photos dans assets/gallery/gallery.json',
                    no_credits: 'Aucun crédit de cinematographer trouvé sur IMDb.',
                    type: {
                        title: 'Titre',
                        feature_film: 'Long métrage',
                        short_film: 'Court métrage',
                        tv_series: 'Série TV',
                        tv_mini_series: 'Mini-série',
                        tv_special: 'Émission spéciale TV',
                        music_video: 'Clip musical',
                        video_game: 'Jeu vidéo',
                    },
                },
                ja: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'コンスタンティン・シモノフ | 撮影監督',
                    meta_description: 'コンスタンティン・シモノフ - 撮影監督。',
                    role: '撮影監督',
                    selected_works: '主な作品',
                    gallery_title: 'ギャラリー',
                    scroll_hint: 'スクロール',
                    gallery_empty: 'assets/gallery/gallery.json に写真を追加してください',
                    no_credits: 'IMDbで撮影監督のクレジットが見つかりませんでした。',
                    type: {
                        title: '作品',
                        feature_film: '長編映画',
                        short_film: '短編映画',
                        tv_series: 'TVシリーズ',
                        tv_mini_series: 'TVミニシリーズ',
                        tv_special: 'TVスペシャル',
                        music_video: 'ミュージックビデオ',
                        video_game: 'ビデオゲーム',
                    },
                },
                zh: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: '康斯坦丁·西蒙诺夫 | 摄影指导',
                    meta_description: '康斯坦丁·西蒙诺夫 - 摄影指导。',
                    role: '摄影指导',
                    selected_works: '精选作品',
                    gallery_title: '图库',
                    scroll_hint: '滚动',
                    gallery_empty: '请将照片添加到 assets/gallery/gallery.json',
                    no_credits: 'IMDb 上未找到摄影指导条目。',
                    type: {
                        title: '作品',
                        feature_film: '长片',
                        short_film: '短片',
                        tv_series: '电视剧',
                        tv_mini_series: '迷你剧',
                        tv_special: '电视特别节目',
                        music_video: '音乐录影带',
                        video_game: '电子游戏',
                    },
                },
                ar: {
                    hero_name: 'KONSTANTIN SIMONOV',
                    page_title: 'كونستانتين سيمونوف | مدير التصوير',
                    meta_description: 'كونستانتين سيمونوف - مدير تصوير.',
                    role: 'مدير التصوير',
                    selected_works: 'أعمال مختارة',
                    gallery_title: 'معرض الصور',
                    scroll_hint: 'مرر',
                    gallery_empty: 'أضف الصور في assets/gallery/gallery.json',
                    no_credits: 'لم يتم العثور على أعمال ضمن فئة مدير التصوير في IMDb.',
                    type: {
                        title: 'عمل',
                        feature_film: 'فيلم روائي',
                        short_film: 'فيلم قصير',
                        tv_series: 'مسلسل تلفزيوني',
                        tv_mini_series: 'مسلسل قصير',
                        tv_special: 'عرض تلفزيوني خاص',
                        music_video: 'فيديو موسيقي',
                        video_game: 'لعبة فيديو',
                    },
                },
            };

            const languageSelect = document.getElementById('language-select');
            const metaDescription = document.getElementById('meta-description');
            const supportedLangs = Object.keys(i18n);

            function applyLanguage(lang) {
                const dict = i18n[lang] || i18n.en;
                document.documentElement.lang = lang;
                document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
                document.title = dict.page_title;
                if (metaDescription) metaDescription.setAttribute('content', dict.meta_description);

                document.querySelectorAll('[data-i18n]').forEach(function (node) {
                    const key = node.getAttribute('data-i18n');
                    if (!key) return;
                    const translated = dict[key] || i18n.en[key];
                    if (translated) node.textContent = translated;
                });

                document.querySelectorAll('.project-desc[data-type-key]').forEach(function (node) {
                    const typeKey = node.getAttribute('data-type-key') || 'title';
                    const fallback = node.getAttribute('data-type-fallback') || node.textContent;
                    const translatedType = (dict.type && dict.type[typeKey]) || (i18n.en.type && i18n.en.type[typeKey]) || fallback;
                    node.textContent = translatedType;
                });

                localStorage.setItem('site_language', lang);
            }

            const storedLang = localStorage.getItem('site_language');
            const browserLang = (navigator.language || 'en').slice(0, 2).toLowerCase();
            const initialLang = supportedLangs.includes(storedLang)
                ? storedLang
                : (supportedLangs.includes(browserLang) ? browserLang : 'en');

            languageSelect.value = initialLang;
            applyLanguage(initialLang);

            languageSelect.addEventListener('change', function () {
                applyLanguage(languageSelect.value);
            });

            const track = document.querySelector('.projects-track');
            if (!track) return;
            const scrollIndicator = document.getElementById('scroll-indicator');

            track.addEventListener('wheel', function (event) {
                event.preventDefault();
                const delta = event.deltaY + event.deltaX;
                track.scrollLeft += delta === 0 ? event.deltaY : delta;
            }, { passive: false });

            let isDown = false;
            let startX = 0;
            let startScrollLeft = 0;

            track.addEventListener('mousedown', function (event) {
                isDown = true;
                startX = event.pageX;
                startScrollLeft = track.scrollLeft;
                track.style.cursor = 'grabbing';
            });

            window.addEventListener('mouseup', function () {
                if (!isDown) return;
                isDown = false;
                track.style.cursor = 'ew-resize';
            });

            track.addEventListener('mousemove', function (event) {
                if (!isDown) return;
                event.preventDefault();
                const walk = event.pageX - startX;
                track.scrollLeft = startScrollLeft - walk;
            });

            function updateScrollIndicator() {
                if (!scrollIndicator) return;
                const shouldHide = window.scrollY > 40;
                scrollIndicator.classList.toggle('is-hidden', shouldHide);
            }

            updateScrollIndicator();
            window.addEventListener('scroll', updateScrollIndicator, { passive: true });

            const galleryGrid = document.getElementById('gallery-grid');
            const galleryEmpty = document.getElementById('gallery-empty');
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = lightbox ? lightbox.querySelector('.lightbox-image') : null;
            const closeButton = lightbox ? lightbox.querySelector('.lightbox-close') : null;
            const prevButton = lightbox ? lightbox.querySelector('.lightbox-prev') : null;
            const nextButton = lightbox ? lightbox.querySelector('.lightbox-next') : null;
            let galleryItems = [];
            let currentImageIndex = 0;

            function refreshGalleryItems() {
                galleryItems = Array.from(document.querySelectorAll('.gallery-item img'));
            }

            function bindGalleryClicks() {
                galleryItems.forEach(function (img, index) {
                    const button = img.closest('.gallery-item');
                    if (!button) return;
                    button.addEventListener('click', function () {
                        openLightbox(index);
                    });
                });
            }

            const localGalleryItems = [
                { src: 'assets/gallery/gallery-01.jpg', alt: 'Gallery image 1' },
                { src: 'assets/gallery/gallery-02.jpg', alt: 'Gallery image 2' },
                { src: 'assets/gallery/gallery-03.jpg', alt: 'Gallery image 3' },
                { src: 'assets/gallery/gallery-04.jpg', alt: 'Gallery image 4' },
                { src: 'assets/gallery/gallery-05.jpg', alt: 'Gallery image 5' },
                { src: 'assets/gallery/gallery-06.jpg', alt: 'Gallery image 6' },
                { src: 'assets/gallery/gallery-07.jpg', alt: 'Gallery image 7' },
                { src: 'assets/gallery/gallery-08.jpg', alt: 'Gallery image 8' },
                { src: 'assets/gallery/gallery-10.jpg', alt: 'Gallery image 10' },
                { src: 'assets/gallery/gallery-11.jpg', alt: 'Gallery image 11' }
            ];

            function renderGallery(items) {
                if (!galleryGrid || !galleryEmpty) return;
                galleryGrid.innerHTML = '';
                if (!Array.isArray(items) || items.length === 0) {
                    galleryEmpty.style.display = 'block';
                    refreshGalleryItems();
                    return;
                }

                items.forEach(function (item, idx) {
                    const src = typeof item === 'string' ? item : item.src;
                    if (!src) return;
                    const alt = (typeof item === 'object' && item.alt) ? item.alt : `Gallery image ${idx + 1}`;
                    const button = document.createElement('button');
                    button.className = 'gallery-item';
                    button.type = 'button';
                    button.setAttribute('aria-label', 'Open gallery image');

                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = alt;
                    img.loading = 'lazy';
                    button.appendChild(img);
                    galleryGrid.appendChild(button);
                });

                refreshGalleryItems();
                bindGalleryClicks();
                galleryEmpty.style.display = 'none';
            }
            renderGallery(localGalleryItems);

            function openLightbox(index) {
                if (!lightbox || !lightboxImage || galleryItems.length === 0) return;
                currentImageIndex = index;
                lightboxImage.src = galleryItems[currentImageIndex].src;
                lightboxImage.alt = galleryItems[currentImageIndex].alt;
                lightbox.classList.add('is-open');
                lightbox.setAttribute('aria-hidden', 'false');
            }

            function closeLightbox() {
                if (!lightbox || !lightboxImage) return;
                lightbox.classList.remove('is-open');
                lightbox.setAttribute('aria-hidden', 'true');
                lightboxImage.src = '';
            }

            function stepLightbox(direction) {
                if (galleryItems.length === 0) return;
                currentImageIndex = (currentImageIndex + direction + galleryItems.length) % galleryItems.length;
                openLightbox(currentImageIndex);
            }

            if (closeButton) closeButton.addEventListener('click', closeLightbox);
            if (prevButton) prevButton.addEventListener('click', function () { stepLightbox(-1); });
            if (nextButton) nextButton.addEventListener('click', function () { stepLightbox(1); });

            if (lightbox) {
                lightbox.addEventListener('click', function (event) {
                    if (event.target === lightbox) closeLightbox();
                });
            }

            window.addEventListener('keydown', function (event) {
                if (!lightbox || !lightbox.classList.contains('is-open')) return;
                if (event.key === 'Escape') closeLightbox();
                if (event.key === 'ArrowLeft') stepLightbox(-1);
                if (event.key === 'ArrowRight') stepLightbox(1);
            });
        })();
    </script>

</body>

</html>
